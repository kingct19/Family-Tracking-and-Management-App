import{g as e,j as a,p as s,x as r,T as t}from"./vendor-Yz3niDpg.js";import{L as l}from"./Skeleton-CKTxZ5fm.js";import{b as i}from"./index-XwJoYhXH.js";import{g as o}from"./xp-api-Dlw9aMIE.js";import"./query-C1EzXcVj.js";import"./firebase-BB8Fp3FL.js";import"./state-CPa13AEy.js";const n=()=>{const{currentHub:n}=i(),{data:d,isLoading:m}=e({queryKey:["leaderboard",n?.id],queryFn:async()=>{if(!n)throw new Error("No hub selected");const e=await o(n.id);if(!e.success)throw new Error(e.error);return(e.data||[]).map(e=>({userId:e.userId,displayName:e.userName,xpTotal:e.totalXP,rank:e.rank,streak:0,photoURL:e.photoURL}))},enabled:!!n});return a.jsxs(a.Fragment,{children:[a.jsxs(s,{children:[a.jsx("title",{children:"Leaderboard - Family Safety App"}),a.jsx("meta",{name:"description",content:"View XP leaderboard for your hub"})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-headline-lg md:text-display-sm font-normal text-on-surface mb-2",children:"Leaderboard"}),a.jsxs("p",{className:"text-body-lg text-on-variant",children:["Top performers in ",n?.name||"your hub"]})]}),m?a.jsx(l,{}):d&&0!==d.length?a.jsx("div",{className:"space-y-3",children:d.map((e,s)=>{return a.jsx("div",{className:`card p-5 border-2 transition-all duration-normal hover:shadow-elevation-3 ${s<3?"shadow-elevation-2":""} ${l=e.rank,1===l?"bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-200":2===l?"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200":3===l?"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200":"bg-white border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 flex items-center justify-center",children:(e=>1===e?a.jsx(r,{className:"text-yellow-500",size:24}):2===e?a.jsx(r,{className:"text-gray-400",size:24}):3===e?a.jsx(r,{className:"text-orange-500",size:24}):a.jsxs("span",{className:"text-gray-500 font-bold text-lg",children:["#",e]}))(e.rank)}),a.jsx("div",{className:"flex-shrink-0",children:e.photoURL?a.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-12 h-12 rounded-full border-2 border-white shadow-elevation-2"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-indigo-600 flex items-center justify-center text-on-primary font-semibold text-title-md border-2 border-white shadow-elevation-2",children:e.displayName.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-title-md text-on-surface truncate mb-1",children:e.displayName}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-primary",children:[a.jsx(r,{size:16}),a.jsxs("span",{className:"text-label-md font-semibold",children:[e.xpTotal," XP"]})]}),e.streak>0&&a.jsxs("div",{className:"flex items-center gap-1.5 text-orange-600",children:[a.jsx(t,{size:16}),a.jsxs("span",{className:"text-label-sm",children:[e.streak," day streak"]})]})]})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"px-4 py-2 bg-primary text-on-primary rounded-full text-label-md font-semibold shadow-elevation-2",children:e.xpTotal})})]})},e.userId);var l})}):a.jsxs("div",{className:"card p-12 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-primary-container rounded-full flex items-center justify-center mx-auto mb-6 shadow-elevation-2",children:a.jsx(r,{size:40,className:"text-primary"})}),a.jsx("h3",{className:"text-headline-md font-normal text-on-surface mb-3",children:"No rankings yet"}),a.jsx("p",{className:"text-body-lg text-on-variant max-w-md mx-auto",children:"Complete tasks to earn XP and appear on the leaderboard!"})]})]})]})};export{n as default};
//# sourceMappingURL=LeaderboardPage-CTtQAzNT.js.map
