{"version":3,"file":"TasksPage-CTyznkZV.js","sources":["../../src/features/tasks/components/TaskCard.tsx","../../src/features/tasks/components/TaskList.tsx","../../src/features/tasks/components/TaskModal.tsx","../../src/features/tasks/components/PhotoProofUpload.tsx","../../src/features/tasks/components/TaskCompletionModal.tsx","../../src/features/tasks/pages/TasksPage.tsx"],"sourcesContent":["import { format } from 'date-fns';\nimport { Card, CardHeader, CardContent, CardActions } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport {\n    FiCheckCircle,\n    FiUser,\n    FiMoreVertical,\n    FiTrash2,\n    FiEdit2,\n} from 'react-icons/fi';\nimport type { Task } from '@/types';\nimport { cn } from '@/lib/utils/cn';\n\ninterface TaskCardProps {\n    task: Task;\n    onComplete?: (taskId: string) => void;\n    onEdit?: (task: Task) => void;\n    onDelete?: (taskId: string) => void;\n    onViewDetails?: (task: Task) => void;\n    showActions?: boolean;\n    isAdmin?: boolean;\n}\n\nexport const TaskCard = ({\n    task,\n    onComplete,\n    onEdit,\n    onDelete,\n    onViewDetails,\n    showActions = true,\n    isAdmin = false,\n}: TaskCardProps) => {\n    const isPending = task.status === 'pending';\n    const isAssigned = task.status === 'assigned';\n    const isDone = task.status === 'done';\n    const isOverdue = task.deadline && new Date(task.deadline) < new Date() && !isDone;\n\n    const statusConfig = {\n        pending: { label: 'Pending', color: 'text-outline' },\n        assigned: { label: 'Assigned', color: 'text-primary' },\n        submitted: { label: 'Submitted', color: 'text-secondary' },\n        approved: { label: 'Approved', color: 'text-tertiary' },\n        rejected: { label: 'Rejected', color: 'text-error' },\n        done: { label: 'Done', color: 'text-tertiary' },\n    };\n\n    const config = statusConfig[task.status];\n\n    return (\n        <Card\n            elevation={1}\n            interactive={!!onViewDetails}\n            onClick={onViewDetails ? () => onViewDetails(task) : undefined}\n            className={cn({\n                'border-l-4 border-error': isOverdue,\n            })}\n        >\n            <CardHeader\n                title={task.title}\n                subtitle={\n                    config.label + (task.deadline ? ` â€¢ ${format(new Date(task.deadline), 'MMM d, yyyy')}` : '')\n                }\n                action={\n                    showActions && (\n                        <button\n                            className=\"p-2 rounded-full hover:bg-surface-variant\"\n                            aria-label=\"Task options\"\n                        >\n                            <FiMoreVertical size={20} className=\"text-on-variant\" />\n                        </button>\n                    )\n                }\n            />\n\n            {task.description && (\n                <CardContent>\n                    <p className=\"text-body-sm text-on-variant line-clamp-2\">\n                        {task.description}\n                    </p>\n                </CardContent>\n            )}\n\n            <CardContent className=\"pt-0\">\n                <div className=\"flex items-center gap-4\">\n                    {/* Weight/XP indicator */}\n                    <div className=\"flex items-center gap-1\">\n                        <span className=\"text-label-sm text-on-variant\">XP:</span>\n                        <span className=\"text-label-md text-primary\">{task.weight}</span>\n                    </div>\n\n                    {/* Assignee */}\n                    {task.assignedTo && (\n                        <div className=\"flex items-center gap-1 text-on-variant\">\n                            <FiUser size={16} />\n                            <span className=\"text-label-sm\">Assigned</span>\n                        </div>\n                    )}\n                </div>\n            </CardContent>\n\n            {showActions && (\n                <CardActions>\n                    {/* Complete button for assigned tasks */}\n                    {isAssigned && onComplete && !isAdmin && (\n                        <Button\n                            variant=\"filled\"\n                            size=\"small\"\n                            startIcon={<FiCheckCircle size={16} />}\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                onComplete(task.id);\n                            }}\n                        >\n                            Complete\n                        </Button>\n                    )}\n\n                    {/* Edit button for admins */}\n                    {isAdmin && onEdit && (\n                        <Button\n                            variant=\"tonal\"\n                            size=\"small\"\n                            startIcon={<FiEdit2 size={16} />}\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                onEdit(task);\n                            }}\n                        >\n                            Edit\n                        </Button>\n                    )}\n\n                    {/* Delete button for admins */}\n                    {isAdmin && onDelete && (isPending || isAssigned) && (\n                        <Button\n                            variant=\"outlined\"\n                            size=\"small\"\n                            startIcon={<FiTrash2 size={16} />}\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                if (confirm('Are you sure you want to delete this task?')) {\n                                    onDelete(task.id);\n                                }\n                            }}\n                            className=\"ml-auto\"\n                        >\n                            Delete\n                        </Button>\n                    )}\n                </CardActions>\n            )}\n        </Card>\n    );\n};\n\n","import { useMemo } from 'react';\nimport { TaskCard } from './TaskCard';\nimport type { Task, TaskStatus } from '@/types';\nimport { cn } from '@/lib/utils/cn';\n\ninterface TaskListProps {\n    tasks: Task[];\n    onComplete?: (taskId: string) => void;\n    onEdit?: (task: Task) => void;\n    onDelete?: (taskId: string) => void;\n    onViewDetails?: (task: Task) => void;\n    isAdmin?: boolean;\n    filter?: TaskStatus | 'all';\n    sortBy?: 'deadline' | 'createdAt' | 'weight';\n}\n\nexport const TaskList = ({\n    tasks,\n    onComplete,\n    onEdit,\n    onDelete,\n    onViewDetails,\n    isAdmin = false,\n    filter = 'all',\n    sortBy = 'deadline',\n}: TaskListProps) => {\n    // Filter tasks\n    const filteredTasks = useMemo(() => {\n        if (filter === 'all') return tasks;\n        return tasks.filter((task) => task.status === filter);\n    }, [tasks, filter]);\n\n    // Sort tasks\n    const sortedTasks = useMemo(() => {\n        return [...filteredTasks].sort((a, b) => {\n            if (sortBy === 'deadline') {\n                if (!a.deadline) return 1;\n                if (!b.deadline) return -1;\n                return new Date(a.deadline).getTime() - new Date(b.deadline).getTime();\n            }\n\n            if (sortBy === 'weight') {\n                return b.weight - a.weight;\n            }\n\n            // createdAt\n            return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n        });\n    }, [filteredTasks, sortBy]);\n\n    if (sortedTasks.length === 0) {\n        return (\n            <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n                <p className=\"text-body-lg text-on-variant mb-2\">No tasks found</p>\n                <p className=\"text-body-sm text-on-variant\">\n                    {filter === 'all'\n                        ? 'Create a new task to get started'\n                        : `No ${filter} tasks at the moment`}\n                </p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n            {sortedTasks.map((task) => (\n                <TaskCard\n                    key={task.id}\n                    task={task}\n                    onComplete={onComplete}\n                    onEdit={onEdit}\n                    onDelete={onDelete}\n                    onViewDetails={onViewDetails}\n                    isAdmin={isAdmin}\n                />\n            ))}\n        </div>\n    );\n};\n\ninterface TaskFilterProps {\n    currentFilter: TaskStatus | 'all';\n    onChange: (filter: TaskStatus | 'all') => void;\n    counts?: Record<TaskStatus | 'all', number>;\n}\n\nexport const TaskFilter = ({ currentFilter, onChange, counts }: TaskFilterProps) => {\n    const filters: Array<{ value: TaskStatus | 'all'; label: string }> = [\n        { value: 'all', label: 'All' },\n        { value: 'pending', label: 'Pending' },\n        { value: 'assigned', label: 'Assigned' },\n        { value: 'submitted', label: 'Submitted' },\n        { value: 'done', label: 'Done' },\n    ];\n\n    return (\n        <div className=\"flex gap-2 flex-wrap\">\n            {filters.map((filter) => (\n                <button\n                    key={filter.value}\n                    onClick={() => onChange(filter.value)}\n                    className={cn(\n                        'px-4 py-2 rounded-full text-label-md transition-colors duration-fast',\n                        'focus:outline-none focus:ring-2 focus:ring-primary',\n                        {\n                            'bg-secondary-container text-on-secondary-container':\n                                currentFilter === filter.value,\n                            'bg-surface-variant text-on-variant hover:bg-outline-variant':\n                                currentFilter !== filter.value,\n                        }\n                    )}\n                >\n                    {filter.label}\n                    {counts && counts[filter.value] > 0 && (\n                        <span className=\"ml-2 text-label-sm opacity-75\">\n                            ({counts[filter.value]})\n                        </span>\n                    )}\n                </button>\n            ))}\n        </div>\n    );\n};\n\ninterface TaskSortProps {\n    currentSort: 'deadline' | 'createdAt' | 'weight';\n    onChange: (sort: 'deadline' | 'createdAt' | 'weight') => void;\n}\n\nexport const TaskSort = ({ currentSort, onChange }: TaskSortProps) => {\n    const sortOptions = [\n        { value: 'deadline' as const, label: 'Due date' },\n        { value: 'weight' as const, label: 'XP value' },\n        { value: 'createdAt' as const, label: 'Created date' },\n    ];\n\n    return (\n        <div className=\"flex items-center gap-2\">\n            <span className=\"text-label-sm text-on-variant\">Sort by:</span>\n            <select\n                value={currentSort}\n                onChange={(e) => onChange(e.target.value as typeof currentSort)}\n                className={cn(\n                    'px-3 py-1.5 rounded-lg bg-surface-variant text-body-md text-on-surface',\n                    'border border-outline focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary',\n                    'cursor-pointer'\n                )}\n            >\n                {sortOptions.map((option) => (\n                    <option key={option.value} value={option.value}>\n                        {option.label}\n                    </option>\n                ))}\n            </select>\n        </div>\n    );\n};\n\n","/**\n * TaskModal Component\n * \n * Modal for creating and editing tasks\n */\n\nimport { useState, useEffect } from 'react';\nimport { FiX, FiCalendar, FiAward, FiFileText, FiUser } from 'react-icons/fi';\nimport { Button } from '@/components/ui/Button';\nimport { TextField } from '@/components/ui/TextField';\nimport { LoadingSpinner } from '@/components/LoadingSpinner';\nimport { useHubMembers } from '../hooks/useHubMembers';\nimport type { Task, TaskStatus } from '@/types';\nimport { cn } from '@/lib/utils/cn';\n\ninterface TaskModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onSave: (task: CreateTaskData) => Promise<void>;\n    task?: Task | null;\n    isLoading?: boolean;\n}\n\nexport interface CreateTaskData {\n    title: string;\n    description: string;\n    deadline: string;\n    weight: number;\n    assignedTo?: string;\n    status: TaskStatus;\n    requiresProof?: boolean;\n}\n\nconst initialFormData: CreateTaskData = {\n    title: '',\n    description: '',\n    deadline: '',\n    weight: 10,\n    status: 'pending',\n};\n\nexport const TaskModal = ({ isOpen, onClose, onSave, task, isLoading = false }: TaskModalProps) => {\n    const [formData, setFormData] = useState<CreateTaskData>(initialFormData);\n    const [errors, setErrors] = useState<Partial<Record<keyof CreateTaskData, string>>>({});\n    const { data: hubMembers = [], isLoading: isLoadingMembers } = useHubMembers();\n\n    // Reset form when modal opens/closes or task changes\n    useEffect(() => {\n        if (isOpen) {\n            if (task) {\n                // Edit mode - populate form with task data\n                setFormData({\n                    title: task.title,\n                    description: task.description || '',\n                    deadline: task.deadline ? new Date(task.deadline).toISOString().split('T')[0] : '',\n                    weight: task.weight,\n                    assignedTo: task.assignedTo || '',\n                    status: task.status,\n                });\n            } else {\n                // Create mode - reset to initial\n                setFormData(initialFormData);\n            }\n            setErrors({});\n        }\n    }, [isOpen, task]);\n\n    const handleChange = (field: keyof CreateTaskData, value: string | number) => {\n        setFormData((prev) => ({ ...prev, [field]: value }));\n        // Clear error for this field\n        if (errors[field]) {\n            setErrors((prev) => ({ ...prev, [field]: undefined }));\n        }\n    };\n\n    const validate = (): boolean => {\n        const newErrors: Partial<Record<keyof CreateTaskData, string>> = {};\n\n        if (!formData.title.trim()) {\n            newErrors.title = 'Title is required';\n        }\n\n        if (formData.weight < 1 || formData.weight > 10) {\n            newErrors.weight = 'Weight must be between 1 and 10';\n        }\n\n        if (formData.deadline && new Date(formData.deadline) < new Date()) {\n            newErrors.deadline = 'Deadline cannot be in the past';\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (!validate()) {\n            return;\n        }\n\n        try {\n            await onSave(formData);\n            onClose();\n        } catch (error) {\n            // Error handling is done in parent component\n        }\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div\n            className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\"\n            onClick={onClose}\n        >\n            <div\n                className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col animate-slide-up\"\n                onClick={(e) => e.stopPropagation()}\n            >\n                {/* Header */}\n                <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n                    <h2 className=\"text-2xl font-bold text-gray-900\">\n                        {task ? 'Edit Task' : 'Create New Task'}\n                    </h2>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 rounded-full hover:bg-gray-100 transition-colors\"\n                        aria-label=\"Close\"\n                    >\n                        <FiX size={24} className=\"text-gray-600\" />\n                    </button>\n                </div>\n\n                {/* Form */}\n                <form onSubmit={handleSubmit} className=\"flex-1 overflow-y-auto p-6\">\n                    <div className=\"space-y-6\">\n                        {/* Title */}\n                        <TextField\n                            label=\"Task Title\"\n                            value={formData.title}\n                            onChange={(e) => handleChange('title', e.target.value)}\n                            placeholder=\"Enter task title\"\n                            required\n                            error={errors.title}\n                            startAdornment={<FiFileText size={20} className=\"text-gray-400\" />}\n                        />\n\n                        {/* Description */}\n                        <div>\n                            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                                Description\n                            </label>\n                            <textarea\n                                value={formData.description}\n                                onChange={(e) => handleChange('description', e.target.value)}\n                                placeholder=\"Enter task description (optional)\"\n                                rows={4}\n                                className={cn(\n                                    'w-full px-4 py-3 rounded-xl border-2 transition-colors',\n                                    'focus:outline-none focus:ring-2 focus:ring-purple-500',\n                                    errors.description\n                                        ? 'border-red-300 focus:border-red-500'\n                                        : 'border-gray-200 focus:border-purple-500'\n                                )}\n                            />\n                            {errors.description && (\n                                <p className=\"mt-1 text-sm text-red-600\">{errors.description}</p>\n                            )}\n                        </div>\n\n                        {/* Assign To */}\n                        <div>\n                            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                                <FiUser size={16} className=\"inline mr-1\" />\n                                Assign To (Optional)\n                            </label>\n                            {isLoadingMembers ? (\n                                <div className=\"flex items-center gap-2 px-4 py-3 rounded-xl border-2 border-gray-200\">\n                                    <LoadingSpinner size=\"small\" />\n                                    <span className=\"text-sm text-gray-500\">Loading members...</span>\n                                </div>\n                            ) : (\n                                <select\n                                    value={formData.assignedTo || ''}\n                                    onChange={(e) => handleChange('assignedTo', e.target.value)}\n                                    className={cn(\n                                        'w-full px-4 py-3 rounded-xl border-2 transition-colors',\n                                        'focus:outline-none focus:ring-2 focus:ring-purple-500',\n                                        errors.assignedTo\n                                            ? 'border-red-300 focus:border-red-500'\n                                            : 'border-gray-200 focus:border-purple-500'\n                                    )}\n                                >\n                                    <option value=\"\">Unassigned</option>\n                                    {hubMembers.map((member) => (\n                                        <option key={member.userId} value={member.userId}>\n                                            {member.displayName} {member.role === 'admin' ? '(Admin)' : ''}\n                                        </option>\n                                    ))}\n                                </select>\n                            )}\n                            {errors.assignedTo && (\n                                <p className=\"mt-1 text-sm text-red-600\">{errors.assignedTo}</p>\n                            )}\n                            <p className=\"mt-1 text-xs text-gray-500\">\n                                Leave unassigned to create a general task, or assign to a specific member\n                            </p>\n                        </div>\n\n                        {/* Deadline and Weight */}\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            {/* Deadline */}\n                            <div>\n                                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                                    <FiCalendar size={16} className=\"inline mr-1\" />\n                                    Deadline\n                                </label>\n                                <input\n                                    type=\"date\"\n                                    value={formData.deadline}\n                                    onChange={(e) => handleChange('deadline', e.target.value)}\n                                    min={new Date().toISOString().split('T')[0]}\n                                    className={cn(\n                                        'w-full px-4 py-3 rounded-xl border-2 transition-colors',\n                                        'focus:outline-none focus:ring-2 focus:ring-purple-500',\n                                        errors.deadline\n                                            ? 'border-red-300 focus:border-red-500'\n                                            : 'border-gray-200 focus:border-purple-500'\n                                    )}\n                                />\n                                {errors.deadline && (\n                                    <p className=\"mt-1 text-sm text-red-600\">{errors.deadline}</p>\n                                )}\n                            </div>\n\n                            {/* Weight/XP */}\n                            <div>\n                                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                                    <FiAward size={16} className=\"inline mr-1\" />\n                                    XP Value\n                                </label>\n                                <input\n                                    type=\"number\"\n                                    value={formData.weight}\n                                    onChange={(e) => handleChange('weight', parseInt(e.target.value) || 0)}\n                                    min={1}\n                                    max={10}\n                                    className={cn(\n                                        'w-full px-4 py-3 rounded-xl border-2 transition-colors',\n                                        'focus:outline-none focus:ring-2 focus:ring-purple-500',\n                                        errors.weight\n                                            ? 'border-red-300 focus:border-red-500'\n                                            : 'border-gray-200 focus:border-purple-500'\n                                    )}\n                                />\n                                {errors.weight && (\n                                    <p className=\"mt-1 text-sm text-red-600\">{errors.weight}</p>\n                                )}\n                                <p className=\"mt-1 text-xs text-gray-500\">Points awarded when completed (1-10)</p>\n                            </div>\n                        </div>\n\n                        {/* Status (only when editing) */}\n                        {task && (\n                            <div>\n                                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                                    Status\n                                </label>\n                                <select\n                                    value={formData.status}\n                                    onChange={(e) => handleChange('status', e.target.value as TaskStatus)}\n                                    className=\"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors\"\n                                >\n                                    <option value=\"pending\">Pending</option>\n                                    <option value=\"assigned\">Assigned</option>\n                                    <option value=\"submitted\">Submitted</option>\n                                    <option value=\"approved\">Approved</option>\n                                    <option value=\"rejected\">Rejected</option>\n                                    <option value=\"done\">Done</option>\n                                </select>\n                            </div>\n                        )}\n                    </div>\n                </form>\n\n                {/* Footer */}\n                <div className=\"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50\">\n                    <Button variant=\"outlined\" onClick={onClose} disabled={isLoading}>\n                        Cancel\n                    </Button>\n                    <Button\n                        variant=\"filled\"\n                        onClick={handleSubmit}\n                        disabled={isLoading}\n                        startIcon={isLoading ? undefined : undefined}\n                    >\n                        {isLoading ? 'Saving...' : task ? 'Save Changes' : 'Create Task'}\n                    </Button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\n","import { useState, useRef } from 'react';\nimport { FiCamera, FiX, FiUpload, FiCheck } from 'react-icons/fi';\nimport { Button } from '@/components/ui/Button';\nimport { TextField } from '@/components/ui/TextField';\nimport toast from 'react-hot-toast';\n\ninterface PhotoProofUploadProps {\n    onUpload: (file: File, notes?: string) => Promise<void>;\n    onCancel: () => void;\n    isLoading?: boolean;\n    existingProof?: string;\n}\n\nexport const PhotoProofUpload = ({\n    onUpload,\n    onCancel,\n    isLoading = false,\n    existingProof,\n}: PhotoProofUploadProps) => {\n    const [selectedFile, setSelectedFile] = useState<File | null>(null);\n    const [preview, setPreview] = useState<string | null>(existingProof || null);\n    const [notes, setNotes] = useState('');\n    const fileInputRef = useRef<HTMLInputElement>(null);\n\n    const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (!file) return;\n\n        // Validate file type\n        if (!['image/jpeg', 'image/jpg', 'image/png', 'image/webp'].includes(file.type)) {\n            toast.error('Please select a JPEG, PNG, or WebP image');\n            return;\n        }\n\n        // Validate file size (5MB max)\n        if (file.size > 5 * 1024 * 1024) {\n            toast.error('Image size must be less than 5MB');\n            return;\n        }\n\n        setSelectedFile(file);\n\n        // Create preview\n        const reader = new FileReader();\n        reader.onloadend = () => {\n            setPreview(reader.result as string);\n        };\n        reader.readAsDataURL(file);\n    };\n\n    const handleRemove = () => {\n        setSelectedFile(null);\n        setPreview(null);\n        if (fileInputRef.current) {\n            fileInputRef.current.value = '';\n        }\n    };\n\n    const handleSubmit = async () => {\n        if (!selectedFile && !existingProof) {\n            toast.error('Please select a photo');\n            return;\n        }\n\n        if (selectedFile) {\n            await onUpload(selectedFile, notes || undefined);\n        } else {\n            // If there's existing proof but no new file, just submit notes\n            await onUpload(new File([], ''), notes || undefined);\n        }\n    };\n\n    return (\n        <div className=\"space-y-4\">\n            <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Photo Proof *\n                </label>\n                {preview ? (\n                    <div className=\"relative\">\n                        <img\n                            src={preview}\n                            alt=\"Proof preview\"\n                            className=\"w-full h-64 object-cover rounded-lg border-2 border-gray-200\"\n                        />\n                        <button\n                            onClick={handleRemove}\n                            className=\"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors\"\n                            aria-label=\"Remove photo\"\n                        >\n                            <FiX size={18} />\n                        </button>\n                    </div>\n                ) : (\n                    <div\n                        onClick={() => fileInputRef.current?.click()}\n                        className=\"w-full h-64 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-colors\"\n                    >\n                        <FiCamera size={48} className=\"text-gray-400 mb-2\" />\n                        <p className=\"text-gray-600 font-medium\">Click to upload photo</p>\n                        <p className=\"text-sm text-gray-500 mt-1\">JPEG, PNG, or WebP (max 5MB)</p>\n                    </div>\n                )}\n                <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    accept=\"image/jpeg,image/jpg,image/png,image/webp\"\n                    onChange={handleFileSelect}\n                    className=\"hidden\"\n                />\n            </div>\n\n            <div className=\"w-full\">\n                <label className=\"block text-label-md text-on-surface mb-2\">\n                    Notes (Optional)\n                </label>\n                <textarea\n                    value={notes}\n                    onChange={(e) => setNotes(e.target.value)}\n                    className=\"w-full px-4 py-3 text-body-md text-on-surface bg-surface border-2 rounded-xl border-outline focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary\"\n                    placeholder=\"Add any additional notes about the completion...\"\n                    rows={3}\n                />\n            </div>\n\n            <div className=\"flex gap-3\">\n                <Button\n                    variant=\"outlined\"\n                    onClick={onCancel}\n                    disabled={isLoading}\n                    fullWidth\n                >\n                    Cancel\n                </Button>\n                <Button\n                    variant=\"filled\"\n                    onClick={handleSubmit}\n                    loading={isLoading}\n                    disabled={isLoading || (!selectedFile && !existingProof)}\n                    startIcon={<FiUpload size={18} />}\n                    fullWidth\n                >\n                    {existingProof ? 'Update Proof' : 'Submit Proof'}\n                </Button>\n            </div>\n        </div>\n    );\n};\n\n","import { useState } from 'react';\nimport { FiX } from 'react-icons/fi';\nimport { PhotoProofUpload } from './PhotoProofUpload';\nimport { uploadTaskProof } from '@/lib/services/storage-service';\nimport { submitTaskProof } from '../api/task-api';\nimport { useHubStore } from '@/lib/store/hub-store';\nimport toast from 'react-hot-toast';\nimport type { Task } from '@/types';\n\ninterface TaskCompletionModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    task: Task;\n    onSuccess: () => void;\n}\n\nexport const TaskCompletionModal = ({\n    isOpen,\n    onClose,\n    task,\n    onSuccess,\n}: TaskCompletionModalProps) => {\n    const { currentHub } = useHubStore();\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    const handleUpload = async (file: File, notes?: string) => {\n        if (!currentHub) {\n            toast.error('No hub selected');\n            return;\n        }\n\n        setIsSubmitting(true);\n        try {\n            // Upload photo to Firebase Storage\n            const proofURL = await uploadTaskProof(file, currentHub.id, task.id);\n\n            // Submit proof to task\n            const response = await submitTaskProof(currentHub.id, task.id, proofURL, notes);\n            \n            if (response.success) {\n                toast.success('Proof submitted! Waiting for admin approval.');\n                onSuccess();\n                onClose();\n            } else {\n                toast.error(response.error || 'Failed to submit proof');\n            }\n        } catch (error: any) {\n            console.error('Submit proof error:', error);\n            toast.error(error.message || 'Failed to upload proof');\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n                <div className=\"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10\">\n                    <h2 className=\"text-2xl font-bold text-gray-900\">Complete Task</h2>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\n                        aria-label=\"Close\"\n                    >\n                        <FiX size={20} />\n                    </button>\n                </div>\n\n                <div className=\"p-6\">\n                    <div className=\"mb-6\">\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">{task.title}</h3>\n                        {task.description && (\n                            <p className=\"text-gray-600\">{task.description}</p>\n                        )}\n                        <p className=\"text-sm text-gray-500 mt-2\">\n                            Please upload a photo as proof of completion\n                        </p>\n                    </div>\n\n                    <PhotoProofUpload\n                        onUpload={handleUpload}\n                        onCancel={onClose}\n                        isLoading={isSubmitting}\n                        existingProof={task.proofURL}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\n","import { useState, useMemo } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { Button } from '@/components/ui/Button';\nimport { TaskCardSkeleton } from '@/components/ui/Skeleton';\nimport { TaskList, TaskFilter, TaskSort } from '../components/TaskList';\nimport { TaskModal, type CreateTaskData } from '../components/TaskModal';\nimport { TaskCompletionModal } from '../components/TaskCompletionModal';\nimport { useHubTasks, useCompleteTask, useDeleteTask, useCreateTask, useUpdateTask } from '../hooks/useTasks';\nimport { useHasRole } from '@/features/auth/hooks/useAuth';\nimport { useHubStore } from '@/lib/store/hub-store';\nimport { FiPlus, FiCheckSquare } from 'react-icons/fi';\nimport { toast } from 'react-hot-toast';\nimport type { TaskStatus, Task } from '@/types';\n\nconst TasksPage = () => {\n    const queryClient = useQueryClient();\n    const { currentHub } = useHubStore();\n    const { data: tasks, isLoading, error } = useHubTasks();\n    const completeTaskMutation = useCompleteTask();\n    const deleteTaskMutation = useDeleteTask();\n    const createTaskMutation = useCreateTask();\n    const updateTaskMutation = useUpdateTask();\n    const isAdmin = useHasRole('admin');\n\n    const [filter, setFilter] = useState<TaskStatus | 'all'>('all');\n    const [sortBy, setSortBy] = useState<'deadline' | 'createdAt' | 'weight'>('deadline');\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [isCompletionModalOpen, setIsCompletionModalOpen] = useState(false);\n    const [editingTask, setEditingTask] = useState<Task | null>(null);\n    const [completingTask, setCompletingTask] = useState<Task | null>(null);\n\n    // Calculate filter counts\n    const filterCounts = useMemo(() => {\n        if (!tasks) return {} as Record<TaskStatus | 'all', number>;\n\n        const counts = tasks.reduce((acc, task) => {\n            acc[task.status] = (acc[task.status] || 0) + 1;\n            acc.all = (acc.all || 0) + 1;\n            return acc;\n        }, {} as Record<string, number>);\n\n        return counts as Record<TaskStatus | 'all', number>;\n    }, [tasks]);\n\n    const handleComplete = async (taskId: string) => {\n        const task = tasks?.find(t => t.id === taskId);\n        if (!task) {\n            toast.error('Task not found');\n            return;\n        }\n\n        // Check if task requires proof\n        // For now, we'll always show proof upload for assigned tasks\n        if (task.status === 'assigned' || task.status === 'pending') {\n            setCompletingTask(task);\n            setIsCompletionModalOpen(true);\n        } else {\n            // Complete without proof (for tasks that don't require it)\n            try {\n                await completeTaskMutation.mutateAsync({ taskId, task });\n                toast.success('Task completed!');\n            } catch (error) {\n                toast.error('Failed to complete task');\n            }\n        }\n    };\n\n    const handleDelete = async (taskId: string) => {\n        try {\n            await deleteTaskMutation.mutateAsync(taskId);\n            toast.success('Task deleted');\n        } catch (error) {\n            toast.error('Failed to delete task');\n        }\n    };\n\n    const handleEdit = (task: Task) => {\n        setEditingTask(task);\n        setIsModalOpen(true);\n    };\n\n    const handleViewDetails = (task: Task) => {\n        // For now, just edit the task\n        handleEdit(task);\n    };\n\n    const handleCreateTask = () => {\n        setEditingTask(null);\n        setIsModalOpen(true);\n    };\n\n    const handleSaveTask = async (data: CreateTaskData) => {\n        try {\n            if (editingTask) {\n                // Update existing task\n                await updateTaskMutation.mutateAsync({\n                    taskId: editingTask.id,\n                    updates: {\n                        title: data.title,\n                        description: data.description,\n                        deadline: data.deadline ? new Date(data.deadline) : undefined,\n                        weight: data.weight,\n                        status: data.status,\n                        assignedTo: data.assignedTo,\n                    },\n                });\n                toast.success('Task updated successfully!');\n            } else {\n                // Create new task\n                await createTaskMutation.mutateAsync({\n                    title: data.title,\n                    description: data.description,\n                    deadline: data.deadline ? new Date(data.deadline) : undefined,\n                    weight: data.weight,\n                    assignedTo: data.assignedTo,\n                    requiresProof: data.requiresProof || false,\n                });\n                toast.success('Task created successfully!');\n            }\n            setIsModalOpen(false);\n            setEditingTask(null);\n        } catch (error) {\n            toast.error(error instanceof Error ? error.message : 'Failed to save task');\n            throw error;\n        }\n    };\n\n    const handleCloseModal = () => {\n        setIsModalOpen(false);\n        setEditingTask(null);\n    };\n\n    if (isLoading) {\n        return (\n            <>\n                <Helmet>\n                    <title>Tasks - Family Safety App</title>\n                </Helmet>\n                <div className=\"space-y-6\">\n                    {/* Header Skeleton */}\n                    <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-4\">\n                            <div className=\"w-12 h-12 bg-gray-200 rounded-2xl animate-pulse\" />\n                            <div>\n                                <div className=\"h-8 w-32 bg-gray-200 rounded animate-pulse mb-2\" />\n                                <div className=\"h-4 w-48 bg-gray-200 rounded animate-pulse\" />\n                            </div>\n                        </div>\n                        <div className=\"h-11 w-32 bg-gray-200 rounded-xl animate-pulse\" />\n                    </div>\n\n                    {/* Filter Tabs Skeleton */}\n                    <div className=\"flex gap-2 overflow-x-auto\">\n                        {[...Array(5)].map((_, i) => (\n                            <div key={i} className=\"h-10 w-24 bg-gray-200 rounded-xl animate-pulse\" />\n                        ))}\n                    </div>\n\n                    {/* Tasks Skeleton */}\n                    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n                        {[...Array(6)].map((_, i) => (\n                            <TaskCardSkeleton key={i} />\n                        ))}\n                    </div>\n                </div>\n            </>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"text-center py-16\">\n                <p className=\"text-body-lg text-error\">Failed to load tasks</p>\n                <p className=\"text-body-sm text-on-variant mt-2\">\n                    Please try refreshing the page\n                </p>\n            </div>\n        );\n    }\n\n    return (\n        <>\n            <Helmet>\n                <title>Tasks - Family Safety App</title>\n                <meta name=\"description\" content=\"Manage and track your family tasks\" />\n            </Helmet>\n\n            <div className=\"space-y-6\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between flex-wrap gap-4\">\n                    <div>\n                        <h1 className=\"text-headline-md text-on-background\">Tasks</h1>\n                        <p className=\"text-body-md text-on-variant mt-1\">\n                            Manage and track tasks for your team\n                        </p>\n                    </div>\n\n                    {isAdmin && (\n                        <Button\n                            variant=\"filled\"\n                            size=\"medium\"\n                            startIcon={<FiPlus size={20} />}\n                            onClick={handleCreateTask}\n                        >\n                            Create task\n                        </Button>\n                    )}\n                </div>\n\n                {/* Filters and Sort */}\n                <div className=\"flex items-center justify-between flex-wrap gap-4\">\n                    <TaskFilter\n                        currentFilter={filter}\n                        onChange={setFilter}\n                        counts={filterCounts}\n                    />\n                    <TaskSort currentSort={sortBy} onChange={setSortBy} />\n                </div>\n\n                {/* Task List */}\n                {tasks && tasks.length > 0 ? (\n                    <TaskList\n                        tasks={tasks}\n                        filter={filter}\n                        sortBy={sortBy}\n                        onComplete={handleComplete}\n                        onEdit={handleEdit}\n                        onDelete={handleDelete}\n                        onViewDetails={handleViewDetails}\n                        isAdmin={isAdmin}\n                    />\n                ) : (\n                    <div className=\"flex flex-col items-center justify-center py-16 px-4\">\n                        <div className=\"w-24 h-24 bg-gradient-to-br from-primary-container to-purple-100 rounded-full flex items-center justify-center mb-6 shadow-elevation-2\">\n                            <FiCheckSquare size={48} className=\"text-primary\" />\n                        </div>\n                        <h3 className=\"text-headline-md font-normal text-on-surface mb-3\">No tasks yet</h3>\n                        <p className=\"text-body-lg text-on-variant text-center mb-8 max-w-md\">\n                            {isAdmin\n                                ? 'Create your first task to get started with task management'\n                                : 'No tasks have been assigned yet. Check back later!'}\n                        </p>\n                        {isAdmin && (\n                            <Button \n                                variant=\"filled\" \n                                onClick={handleCreateTask} \n                                startIcon={<FiPlus size={20} />}\n                                className=\"btn-base bg-primary text-on-primary hover:bg-primary/90 shadow-elevation-2\"\n                            >\n                                Create Your First Task\n                            </Button>\n                        )}\n                    </div>\n                )}\n            </div>\n\n            {/* Task Modal */}\n            <TaskModal\n                isOpen={isModalOpen}\n                onClose={handleCloseModal}\n                onSave={handleSaveTask}\n                task={editingTask}\n                isLoading={createTaskMutation.isPending || updateTaskMutation.isPending}\n            />\n\n            {/* Task Completion Modal */}\n            {completingTask && (\n                <TaskCompletionModal\n                    isOpen={isCompletionModalOpen}\n                    onClose={() => {\n                        setIsCompletionModalOpen(false);\n                        setCompletingTask(null);\n                    }}\n                    task={completingTask}\n                    onSuccess={() => {\n                        // Refresh tasks\n                        queryClient.invalidateQueries({ queryKey: ['tasks', 'hub', currentHub?.id] });\n                    }}\n                />\n            )}\n        </>\n    );\n};\n\nexport default TasksPage;\n"],"names":["TaskCard","task","onComplete","onEdit","onDelete","onViewDetails","showActions","isAdmin","isPending","status","isAssigned","isDone","isOverdue","deadline","Date","config","pending","label","color","assigned","submitted","approved","rejected","done","jsxs","Card","elevation","interactive","onClick","className","cn","children","jsx","CardHeader","title","subtitle","format","action","FiMoreVertical","size","description","CardContent","weight","assignedTo","FiUser","CardActions","Button","variant","startIcon","FiCheckCircle","e","stopPropagation","id","FiEdit2","FiTrash2","confirm","TaskList","tasks","filter","sortBy","filteredTasks","useMemo","sortedTasks","sort","a","b","getTime","createdAt","length","map","TaskFilter","currentFilter","onChange","counts","value","TaskSort","currentSort","target","option","initialFormData","TaskModal","isOpen","onClose","onSave","isLoading","formData","setFormData","useState","errors","setErrors","data","hubMembers","isLoadingMembers","useHubMembers","useEffect","toISOString","split","handleChange","field","prev","handleSubmit","async","preventDefault","newErrors","trim","Object","keys","validate","error","FiX","onSubmit","TextField","placeholder","required","startAdornment","FiFileText","rows","LoadingSpinner","member","userId","displayName","role","FiCalendar","type","min","FiAward","parseInt","max","disabled","PhotoProofUpload","onUpload","onCancel","existingProof","selectedFile","setSelectedFile","preview","setPreview","notes","setNotes","fileInputRef","useRef","src","alt","current","click","FiCamera","ref","accept","file","files","includes","toast","reader","FileReader","onloadend","result","readAsDataURL","fullWidth","File","loading","FiUpload","TaskCompletionModal","onSuccess","currentHub","useHubStore","isSubmitting","setIsSubmitting","proofURL","uploadTaskProof","response","submitTaskProof","success","console","message","TasksPage","queryClient","useQueryClient","useHubTasks","completeTaskMutation","useCompleteTask","deleteTaskMutation","useDeleteTask","createTaskMutation","useCreateTask","updateTaskMutation","useUpdateTask","useHasRole","setFilter","setSortBy","isModalOpen","setIsModalOpen","isCompletionModalOpen","setIsCompletionModalOpen","editingTask","setEditingTask","completingTask","setCompletingTask","filterCounts","reduce","acc","all","handleEdit","handleCreateTask","Fragment","Helmet","Array","_","i","TaskCardSkeleton","name","content","FiPlus","taskId","find","t","mutateAsync","FiCheckSquare","updates","requiresProof","Error","invalidateQueries","queryKey"],"mappings":"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"}