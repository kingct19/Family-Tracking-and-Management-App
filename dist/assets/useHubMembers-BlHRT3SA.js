import{g as e}from"./vendor-Yz3niDpg.js";import{b as s,g as r,h as a}from"./index-XwJoYhXH.js";const t=()=>{const{currentHub:t}=s();return e({queryKey:["hub-members",t?.id],queryFn:async()=>{if(!t)throw new Error("No hub selected");const e=await r(t.id);if(!e.success||!e.data)throw new Error(e.error||"Failed to fetch members");const s=[];for(const r of e.data)if("active"===r.status)try{const e=await a(r.userId);e.success&&e.data&&s.push({userId:r.userId,displayName:e.data.displayName||e.data.email.split("@")[0],email:e.data.email,photoURL:e.data.photoURL,role:r.role,status:r.status})}catch(o){console.error(`Failed to fetch profile for user ${r.userId}:`,o),s.push({userId:r.userId,displayName:`User ${r.userId.slice(0,8)}`,email:"",role:r.role,status:r.status})}return s},enabled:!!t,staleTime:12e4})};export{t as u};
//# sourceMappingURL=useHubMembers-BlHRT3SA.js.map
