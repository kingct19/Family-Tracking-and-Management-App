const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DgnKBnq4.js","assets/vendor-Yz3niDpg.js","assets/query-C1EzXcVj.js","assets/Button-D6lpmbx7.js","assets/firebase-BB8Fp3FL.js","assets/state-CPa13AEy.js","assets/TestPage-BHusGqOn.js","assets/Card-D91uPdLB.js","assets/TestStylingPage-CcyuQjtX.js","assets/SimpleTestPage-tWoELz6k.js","assets/LoginPage-CuB6X1rT.js","assets/TextField-wgpo0Y90.js","assets/auth-schemas-BxrIURsW.js","assets/RegisterPage-CV7oLOct.js","assets/ForgotPasswordPage-CbfTQAHH.js","assets/DashboardPage-rG1ouS3E.js","assets/useTasks-CcRx-I0r.js","assets/task-api-CifnuJS5.js","assets/xp-api-Dlw9aMIE.js","assets/useBroadcasts-DUfu8DbO.js","assets/Skeleton-CKTxZ5fm.js","assets/DebugDashboardPage-CU6gSVw6.js","assets/LocationPage-BlfF897K.js","assets/maps-EiNkSEVn.js","assets/useHubMembers-BlHRT3SA.js","assets/HubSelector-DYcCpDOf.js","assets/hub-schemas-CrELoLa9.js","assets/TasksPage-CTyznkZV.js","assets/storage-service-DKyMHPFN.js","assets/PendingApprovalsPage-DqwjWkqi.js","assets/LeaderboardPage-CTtQAzNT.js","assets/MessagesPage-5551etvH.js","assets/VaultPage-CTMMBtFZ.js","assets/SettingsPage-BBeieAsu.js","assets/ProfilePage-B5ZH640c.js","assets/NotFoundPage-WPBX2eKg.js","assets/AppLayout-HJ2PARlS.js","assets/ProtectedRoute-BEe-EDMc.js"])))=>i.map(i=>d[i]);
import{r as e,j as t,F as s,a as r,t as a,c as i,b as o,e as n,f as c,g as u,z as d,h as l,Q as m,H as p,i as h,k as g,l as f,m as y,R as b,B as _}from"./vendor-Yz3niDpg.js";import{b as w,_ as E}from"./query-C1EzXcVj.js";import{i as x,g as I,a as A,b as j,c as T,d as v,e as P,f as R,h as N,s as D,j as k,u as S,k as L,l as F,m as V,n as U,o as O,p as B,q as z,r as M,t as C,v as H}from"./firebase-BB8Fp3FL.js";import{c as q,p as G}from"./state-CPa13AEy.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const K=new w({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:3,refetchOnWindowFocus:!1,refetchOnReconnect:!1},mutations:{retry:1}}});class J extends e.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),console.error("Error caught by boundary:",e,t)}handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:t.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:t.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:t.jsxs("div",{className:"text-center",children:[t.jsx(s,{className:"mx-auto h-12 w-12 text-red-500"}),t.jsx("h1",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Something went wrong"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We're sorry, but something unexpected happened. Please try again."}),!1,t.jsx("div",{className:"mt-6",children:t.jsxs("button",{onClick:this.handleRetry,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(r,{className:"w-4 h-4 mr-2"}),"Try Again"]})})]})})}):this.props.children}}function W(...e){return a(i(e))}const Y={small:"w-4 h-4",medium:"w-6 h-6",large:"w-8 h-8"},Q=({size:e="medium",className:s="",text:r})=>t.jsxs("div",{className:W("flex flex-col items-center justify-center",s),children:[t.jsx(o,{className:W("animate-spin text-primary",Y[e])}),r&&t.jsx("p",{className:"mt-2 text-body-sm text-on-variant",children:r})]}),X={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_NAME:"FamilyTracker",VITE_FIREBASE_API_KEY:"AIzaSyCXrZoXYuNeoUPJgYgxV_vzcMcDJNQ4kEk",VITE_FIREBASE_APP_ID:"1:785745550773:web:575c4f934dbcbedfd80dfc",VITE_FIREBASE_AUTH_DOMAIN:"group-safety-app.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-01BK5V4GJG",VITE_FIREBASE_MESSAGING_SENDER_ID:"785745550773",VITE_FIREBASE_PROJECT_ID:"group-safety-app",VITE_FIREBASE_STORAGE_BUCKET:"group-safety-app.firebasestorage.app",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyA9lWu183h5xtuY8kJeU3ti306JuFqqlKU",VITE_USE_EMULATORS:"false",VITE_VERSION:"1.0.0"},Z=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"].filter(e=>!X[e]);if(Z.length>0)throw new Error(`Missing required environment variables: ${Z.join(", ")}`);const $=x({apiKey:"AIzaSyCXrZoXYuNeoUPJgYgxV_vzcMcDJNQ4kEk",authDomain:"group-safety-app.firebaseapp.com",projectId:"group-safety-app",storageBucket:"group-safety-app.firebasestorage.app",messagingSenderId:"785745550773",appId:"1:785745550773:web:575c4f934dbcbedfd80dfc",measurementId:"G-01BK5V4GJG"}),ee=I($),te=A($),se=j($);T($),"undefined"!=typeof window&&v($);const re="undefined"!=typeof window&&"Notification"in window&&"serviceWorker"in navigator?P($):null,ae=q()(G(e=>({user:null,isLoading:!0,isAuthenticated:!1,setUser:t=>e({user:t,isAuthenticated:!!t,isLoading:!1}),setLoading:t=>e({isLoading:t}),updateCustomClaims:t=>e(e=>({user:e.user?{...e.user,customClaims:t}:null})),logout:()=>e({user:null,isAuthenticated:!1,isLoading:!1})}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),ie={location:!0,tasks:!0,chat:!0,vault:!1,xp:!0,leaderboard:!0,geofencing:!1,deviceMonitoring:!0},oe=q()(G((e,t)=>({currentHub:null,currentRole:null,featureToggles:null,setCurrentHub:(t,s)=>e({currentHub:t,currentRole:s,featureToggles:t.featureToggles||ie}),updateFeatureToggles:t=>e(e=>({featureToggles:t,currentHub:e.currentHub?{...e.currentHub,featureToggles:t}:null})),clearCurrentHub:()=>e({currentHub:null,currentRole:null,featureToggles:null}),isFeatureEnabled:e=>{const s=t().featureToggles;return s?s[e]??!1:ie[e]??!0}}),{name:"hub-storage",partialize:e=>({currentHub:e.currentHub,currentRole:e.currentRole,featureToggles:e.featureToggles})})),ne=async e=>{const t=await e.getIdTokenResult();return{id:e.uid,email:e.email,displayName:e.displayName||e.email.split("@")[0],photoURL:e.photoURL||void 0,emailVerified:e.emailVerified,xpTotal:t.claims.xpTotal,customClaims:t.claims.hubs?{hubs:t.claims.hubs,currentHub:t.claims.currentHub}:void 0}},ce=async e=>{try{const t=await N(R(te,"users",e));if(!t.exists())return{success:!1,error:"User not found"};const s=t.data();return{success:!0,data:{id:t.id,email:s.email,displayName:s.displayName,photoURL:s.photoURL,xpTotal:s.xpTotal||0,hubs:s.hubs||[],createdAt:s.createdAt?.toDate()||new Date,updatedAt:s.updatedAt?.toDate()||new Date}}}catch(t){return console.error("Get user profile error:",t),{success:!1,error:"Failed to fetch user profile"}}},ue=async(e,t)=>{try{const s=R(te,"users",e),r=await N(s),a={};void 0!==t.displayName&&(a.displayName=t.displayName),void 0!==t.photoURL&&(a.photoURL=t.photoURL),void 0!==t.xpTotal&&(a.xpTotal=t.xpTotal),void 0!==t.phone&&(a.phone=t.phone),void 0!==t.bio&&(a.bio=t.bio);const i={...a,updatedAt:D()};return console.log("Updating user profile:",{userId:e,updates:i,docExists:r.exists()}),r.exists()?await S(s,i):await k(s,{id:e,email:ee.currentUser?.email||"",displayName:t.displayName||"",photoURL:t.photoURL,xpTotal:t.xpTotal||0,hubs:[],createdAt:D(),updatedAt:D(),...a}),t.displayName&&ee.currentUser&&await L(ee.currentUser,{displayName:t.displayName}),{success:!0}}catch(s){return console.error("Update profile error:",s),{success:!1,error:"Failed to update profile"}}},de=async(e,t)=>{try{const s=await(async e=>{try{const t=await N(R(te,"invites",e));if(!t.exists())return{success:!1,error:"Invalid invite code"};const s=t.data(),r={code:t.id,hubId:s.hubId,createdBy:s.createdBy,role:s.role,expiresAt:s.expiresAt.toDate(),maxUses:s.maxUses,usedBy:s.usedBy||[],createdAt:s.createdAt.toDate()};return r.expiresAt<new Date?{success:!1,error:"This invite code has expired"}:r.maxUses&&r.usedBy.length>=r.maxUses?{success:!1,error:"This invite code has reached its usage limit"}:{success:!0,data:r}}catch(t){return console.error("Get invite error:",t),{success:!1,error:"Failed to validate invite code"}}})(t);if(!s.success||!s.data)return{success:!1,error:s.error};const r=s.data;if((await N(R(te,"hubs",r.hubId,"memberships",e))).exists())return{success:!1,error:"You are already a member of this hub"};const a={userId:e,hubId:r.hubId,role:r.role,status:"active",invitedBy:r.createdBy};return await k(R(te,"hubs",r.hubId,"memberships",e),{...a,joinedAt:D()}),await S(R(te,"hubs",r.hubId),{members:O(e)}),await S(R(te,"users",e),{hubs:O(r.hubId)}),await S(R(te,"invites",t),{usedBy:O(e)}),{success:!0,data:{hubId:r.hubId,role:r.role}}}catch(s){return console.error("Join hub error:",s),{success:!1,error:"Failed to join hub"}}},le=async(e,t)=>{try{const s=R(B(te,"hubs")),r={name:e.name,description:e.description,createdBy:t,featureToggles:e.featureToggles,members:[t]};await k(s,{...r,createdAt:D(),updatedAt:D()});const a={userId:t,hubId:s.id,role:"admin",status:"active"};await k(R(te,"hubs",s.id,"memberships",t),{...a,joinedAt:D()});const i=R(te,"users",t),o=await N(i);if(o.exists()){const e=o.data().hubs||[];await S(i,{hubs:[...e,s.id]})}return{success:!0,data:{id:s.id,...r,createdAt:new Date,updatedAt:new Date}}}catch(s){return console.error("Create hub error:",s),{success:!1,error:"Failed to create hub"}}},me=async e=>{try{const t=await N(R(te,"hubs",e));if(!t.exists())return{success:!1,error:"Hub not found"};const s=t.data();return{success:!0,data:{id:t.id,name:s.name,description:s.description,createdBy:s.createdBy,featureToggles:s.featureToggles,members:s.members||[],inviteCode:s.inviteCode,createdAt:s.createdAt?.toDate()||new Date,updatedAt:s.updatedAt?.toDate()||new Date}}}catch(t){return console.error("Get hub error:",t),{success:!1,error:"Failed to fetch hub"}}},pe=async e=>{try{const t=await N(R(te,"users",e));if(!t.exists())return{success:!1,error:"User not found"};const s=t.data().hubs||[];if(0===s.length)return{success:!0,data:[]};const r=[];for(const e of s){const t=await me(e);t.success&&t.data&&r.push(t.data)}return{success:!0,data:r}}catch(t){return console.error("Get user hubs error:",t),{success:!1,error:"Failed to fetch user hubs"}}},he=async(e,t)=>{try{const s=await N(R(te,"hubs",e,"memberships",t));if(!s.exists())return{success:!1,error:"Membership not found"};const r=s.data();return{success:!0,data:{userId:r.userId,hubId:r.hubId,role:r.role,status:r.status,joinedAt:r.joinedAt?.toDate()||new Date,invitedBy:r.invitedBy}}}catch(s){return console.error("Get membership error:",s),{success:!1,error:"Failed to fetch membership"}}},ge=async e=>{try{const t=z(B(te,"hubs",e,"memberships")),s=await M(t),r=[];return s.forEach(e=>{const t=e.data();t&&r.push({userId:t.userId,hubId:t.hubId,role:t.role,status:t.status,joinedAt:t.joinedAt?.toDate()||new Date,invitedBy:t.invitedBy})}),{success:!0,data:r}}catch(t){return console.error("Get hub members error:",t),{success:!1,error:"Failed to fetch hub members"}}},fe=async(e,t)=>{try{return await S(R(te,"hubs",e),{featureToggles:t,updatedAt:D()}),{success:!0}}catch(s){return console.error("Update feature toggles error:",s),{success:!1,error:"Failed to update feature toggles"}}},ye=()=>{const t=n(),{user:s,isLoading:r,isAuthenticated:a,setUser:i,setLoading:o,logout:u}=ae(),{setCurrentHub:d,clearCurrentHub:l}=oe();e.useEffect(()=>{let e=!0;return(async()=>{if(!e)return;o(!0);C(ee,async t=>{if(e){if(t)try{const r=await ne(t);e&&i(r);try{const s=await pe(t.uid);if(e&&s.success&&s.data&&s.data.length>0){const r=s.data[0],a=await he(r.id,t.uid);e&&a.success&&a.data&&d(r,a.data.role)}}catch(s){console.log("No hubs found for user or hub loading failed:",s)}}catch(r){console.error("Error mapping Firebase user:",r),e&&i(null)}else e&&(i(null),l());e&&o(!1)}})})(),()=>{e=!1}},[]);const m=c({mutationFn:e=>(async e=>{try{const t=await U(ee,e.email,e.password);await L(t.user,{displayName:e.displayName});const s={email:e.email,displayName:e.displayName,xpTotal:0,hubs:[],createdAt:new Date,updatedAt:new Date};await k(R(te,"users",t.user.uid),{...s,createdAt:D(),updatedAt:D()});const r={theme:"system",notifications:!0,locationSharing:!0,lowBatteryAlerts:!0};return await k(R(te,"users",t.user.uid,"private","preferences"),r),{success:!0,data:await ne(t.user)}}catch(t){console.error("Registration error:",t);let e="Failed to create account";return"auth/email-already-in-use"===t.code?e="Email is already registered":"auth/weak-password"===t.code?e="Password is too weak":"auth/invalid-email"===t.code&&(e="Invalid email address"),{success:!1,error:e}}})(e),onSuccess:e=>{e.success&&e.data&&t.invalidateQueries({queryKey:["auth"]})}}),p=c({mutationFn:e=>(async e=>{try{const t=await V(ee,e.email,e.password);return{success:!0,data:await ne(t.user)}}catch(t){console.error("Login error:",t);let e="Failed to login";return"auth/user-not-found"===t.code||"auth/wrong-password"===t.code?e="Invalid email or password":"auth/too-many-requests"===t.code?e="Too many failed attempts. Please try again later":"auth/user-disabled"===t.code&&(e="This account has been disabled"),{success:!1,error:e}}})(e),onSuccess:e=>{e.success&&e.data&&t.invalidateQueries({queryKey:["auth"]})}}),h=c({mutationFn:()=>(async()=>{try{return await F(ee),{success:!0}}catch(e){return console.error("Logout error:",e),{success:!1,error:"Failed to logout"}}})(),onSuccess:()=>{u(),l(),t.clear()}}),g=c({mutationFn:e=>{if(!s)throw new Error("User not authenticated");return de(s.id,e)},onSuccess:async e=>{if(e.success&&e.data&&s){t.invalidateQueries({queryKey:["hubs",s.id]});const{hubId:r,role:a}=e.data,i=await pe(s.id);if(i.success&&i.data){const e=i.data.find(e=>e.id===r);e&&d(e,a)}}}});return{user:s,isLoading:r,isAuthenticated:a,register:m.mutateAsync,login:p.mutateAsync,logout:h.mutateAsync,joinHub:g.mutateAsync,isRegistering:m.isPending,isLoggingIn:p.isPending,isLoggingOut:h.isPending,isJoiningHub:g.isPending}},be=e=>u({queryKey:["user","profile",e],queryFn:async()=>{if(!e)throw new Error("User ID is required");const t=await ce(e);if(!t.success)throw new Error(t.error);return t.data},enabled:!!e,staleTime:3e5}),_e=e=>{const{currentRole:t}=oe();return!!t&&"admin"===t};const we=new class{messaging=null;token=null;isInitialized=!1;constructor(){if(re)this.messaging=re,this.isInitialized=!0;else if("undefined"!=typeof window&&"Notification"in window&&"serviceWorker"in navigator)try{this.messaging=P($),this.isInitialized=!0}catch(e){console.warn("Firebase Messaging not available:",e)}}isSupported(){return"undefined"!=typeof window&&"Notification"in window&&"serviceWorker"in navigator&&this.isInitialized&&!!this.messaging}getPermissionStatus(){return"Notification"in window?Notification.permission:"denied"}async requestPermission(){if(!this.isSupported())return console.warn("Notifications not supported"),!1;if(!("Notification"in window))return d.error("Your browser does not support notifications"),!1;if("granted"===Notification.permission)return await this.getToken();if("denied"===Notification.permission)return d.error("Notification permission was denied. Please enable it in your browser settings."),!1;try{return"granted"===await Notification.requestPermission()?(d.success("Notifications enabled!"),await this.getToken()):(d.error("Notification permission denied"),!1)}catch(e){return console.error("Error requesting notification permission:",e),d.error("Failed to request notification permission"),!1}}async getToken(){return!this.isSupported()||this.messaging,console.warn("FCM not configured - missing VAPID key"),!1}async saveTokenToFirestore(e){try{const t=I();if(!t.currentUser)return;const s=t.currentUser.uid,r=R(te,"users",s,"tokens","fcm");await k(r,{token:e,updatedAt:new Date,platform:this.getPlatform(),userAgent:navigator.userAgent},{merge:!0}),console.log("FCM token saved to Firestore")}catch(t){console.error("Error saving FCM token:",t)}}getPlatform(){const e=navigator.userAgent;return/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)?"ios":/Mac/.test(e)?"macos":/Win/.test(e)?"windows":/Linux/.test(e)?"linux":"unknown"}setupForegroundListener(){this.isSupported()&&this.messaging&&H(this.messaging,e=>{console.log("Foreground message received:",e);const t=e.notification;t&&d(t.title||"New notification",{duration:5e3}),"granted"===Notification.permission&&this.showBrowserNotification(t?.title||"FamilyTracker",t?.body||"You have a new notification",t?.icon,e.data)})}showBrowserNotification(e,t,s,r){if("granted"!==Notification.permission)return;const a=new Notification(e,{body:t,icon:s||"/logo192.png",badge:"/favicon.ico",tag:r?.type||"default",data:r,requireInteraction:!1});a.onclick=()=>{window.focus(),a.close(),"task"===r?.type?window.location.href="/tasks":"message"===r?.type?window.location.href="/messages":"geofence"===r?.type?window.location.href="/map":"approval"===r?.type&&(window.location.href="/tasks/pending-approvals")}}async deleteToken(){try{const e=I();if(!e.currentUser)return;const t=e.currentUser.uid,s=R(te,"users",t,"tokens","fcm");(await N(s)).exists()&&await k(s,{token:null,deletedAt:new Date},{merge:!0}),this.token=null,console.log("FCM token deleted")}catch(e){console.error("Error deleting FCM token:",e)}}getCurrentToken(){return this.token}},Ee=()=>{const{isAuthenticated:t}=ye();return e.useEffect(()=>{t&&we.isSupported()&&(we.setupForegroundListener(),"granted"===we.getPermissionStatus()&&we.getToken().catch(console.error))},[t]),null},xe=()=>{const s=l(),[r,a]=e.useState(0),[i,o]=e.useState(!1),n=e.useRef(s.pathname);return e.useEffect(()=>{if(n.current!==s.pathname){o(!0),a(0);const e=setInterval(()=>{a(t=>t>=90?(clearInterval(e),90):t+15*Math.random())},100),t=setTimeout(()=>{a(100),setTimeout(()=>{o(!1),a(0)},300)},500);return n.current=s.pathname,()=>{clearInterval(e),clearTimeout(t)}}},[s.pathname]),i?t.jsx("div",{className:W("fixed top-0 left-0 right-0 z-[9999] h-1","transition-opacity duration-fast",i?"opacity-100":"opacity-0"),role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Page loading",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-primary via-purple-600 to-indigo-600 transition-all duration-fast ease-out shadow-lg",style:{width:`${r}%`}})}):null},Ie=e.lazy(()=>E(()=>import("./HomePage-DgnKBnq4.js"),__vite__mapDeps([0,1,2,3,4,5]))),Ae=e.lazy(()=>E(()=>import("./TestPage-BHusGqOn.js"),__vite__mapDeps([6,1,2,3,7,4,5]))),je=e.lazy(()=>E(()=>import("./TestStylingPage-CcyuQjtX.js"),__vite__mapDeps([8,1,2]))),Te=e.lazy(()=>E(()=>import("./SimpleTestPage-tWoELz6k.js"),__vite__mapDeps([9,1,2]))),ve=e.lazy(()=>E(()=>import("./LoginPage-CuB6X1rT.js"),__vite__mapDeps([10,1,2,3,11,12,4,5]))),Pe=e.lazy(()=>E(()=>import("./RegisterPage-CV7oLOct.js"),__vite__mapDeps([13,1,2,3,11,12,4,5]))),Re=e.lazy(()=>E(()=>import("./ForgotPasswordPage-CbfTQAHH.js"),__vite__mapDeps([14,1,2,3,11,4,5]))),Ne=e.lazy(()=>E(()=>import("./DashboardPage-rG1ouS3E.js"),__vite__mapDeps([15,1,2,16,17,4,18,19,20,5]))),De=e.lazy(()=>E(()=>import("./DebugDashboardPage-CU6gSVw6.js"),__vite__mapDeps([21,1,2,7,3,4,5]))),ke=e.lazy(()=>E(()=>import("./LocationPage-BlfF897K.js"),__vite__mapDeps([22,1,2,23,4,24,25,26,11,3,5]))),Se=e.lazy(()=>E(()=>import("./TasksPage-CTyznkZV.js"),__vite__mapDeps([27,1,2,3,20,7,11,24,28,4,17,16,18,5]))),Le=e.lazy(()=>E(()=>import("./PendingApprovalsPage-DqwjWkqi.js"),__vite__mapDeps([29,1,2,3,17,4,18,5]))),Fe=e.lazy(()=>E(()=>import("./LeaderboardPage-CTtQAzNT.js"),__vite__mapDeps([30,1,2,20,18,4,5]))),Ve=e.lazy(()=>E(()=>import("./MessagesPage-5551etvH.js"),__vite__mapDeps([31,1,2,20,19,4,5]))),Ue=e.lazy(()=>E(()=>import("./VaultPage-CTMMBtFZ.js"),__vite__mapDeps([32,1,2,3,11,20,4,5]))),Oe=e.lazy(()=>E(()=>import("./SettingsPage-BBeieAsu.js"),__vite__mapDeps([33,1,2,7,3,26,4,5]))),Be=e.lazy(()=>E(()=>import("./ProfilePage-B5ZH640c.js"),__vite__mapDeps([34,1,2,7,3,11,28,4,5]))),ze=e.lazy(()=>E(()=>import("./NotFoundPage-WPBX2eKg.js"),__vite__mapDeps([35,1,2]))),Me=e.lazy(()=>E(()=>import("./AppLayout-HJ2PARlS.js"),__vite__mapDeps([36,1,2,5,25,26,11,3,4]))),Ce=e.lazy(()=>E(()=>import("./ProtectedRoute-BEe-EDMc.js"),__vite__mapDeps([37,1,2,4,5])));function He(){return t.jsx(J,{children:t.jsxs(m,{client:K,children:[t.jsxs(p,{children:[t.jsx(Ee,{}),t.jsx(xe,{}),t.jsxs("div",{className:"App",children:[t.jsx(e.Suspense,{fallback:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:t.jsx(Q,{size:"large",text:"Loading page..."})}),children:t.jsxs(h,{children:[t.jsx(g,{path:"/",element:t.jsx(Ie,{})}),t.jsx(g,{path:"/test",element:t.jsx(Ae,{})}),t.jsx(g,{path:"/test-styling",element:t.jsx(je,{})}),t.jsx(g,{path:"/simple-test",element:t.jsx(Te,{})}),t.jsx(g,{path:"/debug-dashboard",element:t.jsx(De,{})}),t.jsx(g,{path:"/login",element:t.jsx(ve,{})}),t.jsx(g,{path:"/register",element:t.jsx(Pe,{})}),t.jsx(g,{path:"/forgot-password",element:t.jsx(Re,{})}),t.jsxs(g,{element:t.jsx(Ce,{children:t.jsx(Me,{})}),children:[t.jsx(g,{path:"/map",element:t.jsx(ke,{})}),t.jsx(g,{path:"/dashboard",element:t.jsx(Ne,{})}),t.jsx(g,{path:"/tasks",element:t.jsx(Se,{})}),t.jsx(g,{path:"/tasks/pending-approvals",element:t.jsx(Le,{})}),t.jsx(g,{path:"/leaderboard",element:t.jsx(Fe,{})}),t.jsx(g,{path:"/messages",element:t.jsx(Ve,{})}),t.jsx(g,{path:"/vault",element:t.jsx(Ue,{})}),t.jsx(g,{path:"/settings",element:t.jsx(Oe,{})}),t.jsx(g,{path:"/profile",element:t.jsx(Be,{})})]}),t.jsx(g,{path:"*",element:t.jsx(ze,{})})]})}),t.jsx(f,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})]}),!1]})})}"serviceWorker"in navigator&&(async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"});return console.log("Firebase Messaging Service Worker registered:",e),e}catch(e){return console.warn("Firebase Messaging Service Worker registration failed:",e),null}return null})().catch(console.error);y.createRoot(document.getElementById("root")).render(t.jsx(b.StrictMode,{children:t.jsx(_,{children:t.jsx(He,{})})}));export{Q as L,ee as a,oe as b,_e as c,te as d,be as e,W as f,ge as g,ce as h,ae as i,fe as j,ue as k,he as l,le as m,we as n,pe as o,se as s,ye as u};
//# sourceMappingURL=index-XwJoYhXH.js.map
