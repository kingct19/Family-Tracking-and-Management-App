{"version":3,"file":"storage-service-DKyMHPFN.js","sources":["../../src/lib/services/storage-service.ts"],"sourcesContent":["import { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { storage } from '@/config/firebase';\n\n/**\n * Upload a file to Firebase Storage\n */\nexport const uploadFile = async (\n    file: File,\n    path: string\n): Promise<string> => {\n    try {\n        const storageRef = ref(storage, path);\n        const snapshot = await uploadBytes(storageRef, file);\n        const downloadURL = await getDownloadURL(snapshot.ref);\n        return downloadURL;\n    } catch (error) {\n        console.error('Upload file error:', error);\n        throw new Error('Failed to upload file');\n    }\n};\n\n/**\n * Upload task proof photo\n */\nexport const uploadTaskProof = async (\n    file: File,\n    hubId: string,\n    taskId: string\n): Promise<string> => {\n    const fileName = `${Date.now()}_${file.name}`;\n    const path = `tasks/${hubId}/${taskId}/${fileName}`;\n    return uploadFile(file, path);\n};\n\n"],"names":["uploadFile","async","file","path","storageRef","ref","storage","snapshot","uploadBytes","getDownloadURL","error","console","Error","uploadTaskProof","hubId","taskId","fileName","Date","now","name"],"mappings":"4FAMO,MAAMA,EAAaC,MACtBC,EACAC,KAEA,IACI,MAAMC,EAAaC,EAAIC,EAASH,GAC1BI,QAAiBC,EAAYJ,EAAYF,GAE/C,aAD0BO,EAAeF,EAASF,IAEtD,OAASK,GAEL,MADAC,QAAQD,MAAM,qBAAsBA,GAC9B,IAAIE,MAAM,wBACpB,GAMSC,EAAkBZ,MAC3BC,EACAY,EACAC,KAEA,MAAMC,EAAW,GAAGC,KAAKC,SAAShB,EAAKiB,OAEvC,OAAOnB,EAAWE,EADL,SAASY,KAASC,KAAUC"}