{"version":3,"file":"DashboardPage-rG1ouS3E.js","sources":["../../src/features/dashboard/pages/DashboardPage.tsx"],"sourcesContent":["import { Helmet } from 'react-helmet-async';\nimport { useAuth } from '@/features/auth/hooks/useAuth';\nimport { useHubStore } from '@/lib/store/hub-store';\nimport { useHasRole } from '@/features/auth/hooks/useAuth';\nimport { useHubTasks } from '@/features/tasks/hooks/useTasks';\nimport { useHubMessages } from '@/features/messages/hooks/useMessages';\nimport { useHubBroadcasts } from '@/features/messages/hooks/useBroadcasts';\nimport { LoadingSpinner } from '@/components/LoadingSpinner';\nimport { DashboardStatsSkeleton, DashboardQuickActionsSkeleton, CardSkeleton, ListItemSkeleton } from '@/components/ui/Skeleton';\nimport { FiMapPin, FiCheckSquare, FiMessageCircle, FiUsers, FiAward, FiClock, FiTrendingUp, FiCheckCircle, FiAlertCircle, FiUser } from 'react-icons/fi';\nimport { useNavigate } from 'react-router-dom';\nimport { useMemo } from 'react';\n\nconst DashboardPage = () => {\n    const { user } = useAuth();\n    const { currentHub } = useHubStore();\n    const isAdmin = useHasRole('admin');\n    const navigate = useNavigate();\n    \n    // Fetch real data\n    const { data: tasks = [], isLoading: isLoadingTasks } = useHubTasks();\n    const { messages = [], isLoading: isLoadingMessages } = useHubMessages(currentHub?.id);\n    const { data: broadcasts = [] } = useHubBroadcasts();\n    \n    const isLoading = isLoadingTasks || isLoadingMessages;\n\n    // Calculate task statistics\n    const taskStats = useMemo(() => {\n        const activeTasks = tasks.filter(t => t.status === 'pending' || t.status === 'assigned').length;\n        const completedTasks = tasks.filter(t => t.status === 'done' || t.status === 'approved').length;\n        const pendingApprovals = tasks.filter(t => t.proofStatus === 'pending').length;\n        const assignedToMe = tasks.filter(t => t.assignedTo === user?.id && (t.status === 'pending' || t.status === 'assigned')).length;\n        \n        return {\n            active: activeTasks,\n            completed: completedTasks,\n            pendingApprovals,\n            assignedToMe,\n            total: tasks.length,\n        };\n    }, [tasks, user?.id]);\n\n    // Create activity feed from tasks, messages, and broadcasts\n    const recentActivity = useMemo(() => {\n        const activities: Array<{\n            id: string;\n            type: 'task' | 'message' | 'broadcast';\n            title: string;\n            description: string;\n            timestamp: Date;\n            icon: React.ReactNode;\n            color: string;\n        }> = [];\n\n        // Add recent tasks (created, completed, assigned)\n        tasks.slice(0, 5).forEach(task => {\n            if (task.status === 'done' || task.status === 'approved') {\n                activities.push({\n                    id: `task-${task.id}`,\n                    type: 'task',\n                    title: 'Task completed',\n                    description: `${task.title} was completed`,\n                    timestamp: task.completedAt || task.updatedAt,\n                    icon: <FiCheckCircle size={16} />,\n                    color: 'text-green-600',\n                });\n            } else if (task.assignedTo && task.status === 'assigned') {\n                activities.push({\n                    id: `task-assigned-${task.id}`,\n                    type: 'task',\n                    title: 'Task assigned',\n                    description: `${task.title} was assigned`,\n                    timestamp: task.updatedAt,\n                    icon: <FiUser size={16} />,\n                    color: 'text-blue-600',\n                });\n            } else if (task.status === 'pending') {\n                activities.push({\n                    id: `task-created-${task.id}`,\n                    type: 'task',\n                    title: 'New task',\n                    description: `${task.title} was created`,\n                    timestamp: task.createdAt,\n                    icon: <FiCheckSquare size={16} />,\n                    color: 'text-purple-600',\n                });\n            }\n        });\n\n        // Add recent messages\n        messages.slice(-5).forEach(message => {\n            activities.push({\n                id: `message-${message.id}`,\n                type: 'message',\n                title: 'New message',\n                description: `${message.senderName}: ${message.text.substring(0, 50)}${message.text.length > 50 ? '...' : ''}`,\n                timestamp: message.timestamp,\n                icon: <FiMessageCircle size={16} />,\n                color: 'text-purple-600',\n            });\n        });\n\n        // Add recent broadcasts\n        broadcasts.slice(0, 3).forEach(broadcast => {\n            activities.push({\n                id: `broadcast-${broadcast.id}`,\n                type: 'broadcast',\n                title: broadcast.title,\n                description: broadcast.message,\n                timestamp: broadcast.timestamp,\n                icon: <FiAlertCircle size={16} />,\n                color: broadcast.priority === 'high' ? 'text-red-600' : 'text-orange-600',\n            });\n        });\n\n        // Sort by timestamp (newest first) and limit to 10\n        return activities\n            .sort((a, b) => b.timestamp.getTime() - a.timestamp.getTime())\n            .slice(0, 10);\n    }, [tasks, messages, broadcasts]);\n\n    const quickActions = [\n        {\n            icon: <FiCheckSquare size={28} />,\n            title: 'Tasks',\n            description: 'View and manage tasks',\n            action: () => navigate('/tasks'),\n            color: 'from-blue-500 to-blue-600',\n            bgColor: 'bg-blue-50',\n            textColor: 'text-blue-600',\n        },\n        {\n            icon: <FiMapPin size={28} />,\n            title: 'Location',\n            description: 'Track family members',\n            action: () => navigate('/location'),\n            color: 'from-green-500 to-green-600',\n            bgColor: 'bg-green-50',\n            textColor: 'text-green-600',\n        },\n        {\n            icon: <FiMessageCircle size={28} />,\n            title: 'Messages',\n            description: 'Chat with your team',\n            action: () => navigate('/messages'),\n            color: 'from-purple-500 to-purple-600',\n            bgColor: 'bg-purple-50',\n            textColor: 'text-purple-600',\n        },\n        {\n            icon: <FiUsers size={28} />,\n            title: 'Members',\n            description: 'Manage hub members',\n            action: () => navigate('/settings'),\n            color: 'from-indigo-500 to-indigo-600',\n            bgColor: 'bg-indigo-50',\n            textColor: 'text-indigo-600',\n        },\n    ];\n\n    return (\n        <>\n            <Helmet>\n                <title>Dashboard - Family Safety App</title>\n                <meta name=\"description\" content=\"Your family safety dashboard\" />\n            </Helmet>\n\n            <div className=\"space-y-8\">\n                {/* Welcome Header */}\n                <div className=\"bg-gradient-to-br from-primary via-purple-600 to-indigo-600 rounded-3xl p-8 md:p-12 text-on-primary shadow-elevation-3 overflow-hidden relative\">\n                    {/* Decorative background pattern */}\n                    <div className=\"absolute inset-0 opacity-10\">\n                        <div className=\"absolute top-0 right-0 w-64 h-64 bg-white rounded-full blur-3xl\"></div>\n                        <div className=\"absolute bottom-0 left-0 w-48 h-48 bg-white rounded-full blur-3xl\"></div>\n                    </div>\n                    <div className=\"relative z-10\">\n                        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-6\">\n                            <div>\n                                <h1 className=\"text-headline-lg md:text-display-sm font-normal mb-3 text-balance\">\n                                    Welcome back, {user?.displayName || 'User'}!\n                                </h1>\n                                <p className=\"text-body-lg text-on-primary/90\">\n                                    {currentHub ? `Current hub: ${currentHub.name}` : 'No hub selected'}\n                                </p>\n                            </div>\n                            <div className=\"flex items-center gap-3\">\n                                <div className=\"bg-white/15 backdrop-blur-md rounded-2xl px-6 py-4 border border-white/20 shadow-elevation-2\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className=\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center\">\n                                            <FiAward size={24} className=\"text-white\" />\n                                        </div>\n                                        <div>\n                                            <div className=\"text-label-sm text-on-primary/80 mb-1\">Total XP</div>\n                                            <div className=\"text-headline-sm font-semibold text-white\">{user?.xpTotal || 0}</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Quick Actions */}\n                <div>\n                    <h2 className=\"text-headline-md font-normal text-on-surface mb-6\">Quick actions</h2>\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n                        {quickActions.map((action, index) => (\n                            <button\n                                key={index}\n                                onClick={action.action}\n                                disabled={!currentHub}\n                                className={`group card-interactive p-6 text-left ${\n                                    !currentHub ? 'opacity-50 cursor-not-allowed' : ''\n                                }`}\n                            >\n                                <div className={`w-14 h-14 bg-gradient-to-br ${action.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-normal shadow-elevation-2`}>\n                                    <div className=\"text-white\">\n                                        {action.icon}\n                                    </div>\n                                </div>\n                                <h3 className=\"text-title-md text-on-surface mb-2\">\n                                    {action.title}\n                                </h3>\n                                <p className=\"text-body-md text-on-variant\">\n                                    {action.description}\n                                </p>\n                            </button>\n                        ))}\n                    </div>\n                </div>\n\n                {/* Stats Summary */}\n                <div>\n                    <h2 className=\"text-headline-md font-normal text-on-surface mb-6\">Overview</h2>\n                    {isLoading ? (\n                        <DashboardStatsSkeleton />\n                    ) : (\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                            <div className=\"card p-6\">\n                                <div className=\"flex items-center justify-between mb-4\">\n                                    <div className=\"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center border border-blue-100\">\n                                        <FiCheckSquare size={24} className=\"text-blue-600\" />\n                                    </div>\n                                    {taskStats.active > 0 && <FiTrendingUp className=\"text-green-600\" size={20} />}\n                                </div>\n                                {isLoadingTasks ? (\n                                    <LoadingSpinner size=\"small\" />\n                                ) : (\n                                    <>\n                                        <div className=\"text-display-sm font-normal text-on-surface mb-1\">{taskStats.active}</div>\n                                        <div className=\"text-body-md text-on-variant\">Active Tasks</div>\n                                        {taskStats.assignedToMe > 0 && (\n                                            <div className=\"text-label-sm text-blue-600 mt-2\">\n                                                {taskStats.assignedToMe} assigned to you\n                                            </div>\n                                        )}\n                                    </>\n                                )}\n                            </div>\n\n                            <div className=\"card p-6\">\n                                <div className=\"flex items-center justify-between mb-4\">\n                                    <div className=\"w-12 h-12 bg-purple-50 rounded-xl flex items-center justify-center border border-purple-100\">\n                                        <FiUsers size={24} className=\"text-purple-600\" />\n                                    </div>\n                                    <FiTrendingUp className=\"text-green-600\" size={20} />\n                                </div>\n                                <div className=\"text-display-sm font-normal text-on-surface mb-1\">\n                                    {currentHub?.members.length || 0}\n                                </div>\n                                <div className=\"text-body-md text-on-variant\">Hub Members</div>\n                            </div>\n\n                            <div className=\"card p-6\">\n                                <div className=\"flex items-center justify-between mb-4\">\n                                    <div className=\"w-12 h-12 bg-green-50 rounded-xl flex items-center justify-center border border-green-100\">\n                                        <FiCheckCircle size={24} className=\"text-green-600\" />\n                                    </div>\n                                    {taskStats.completed > 0 && <FiTrendingUp className=\"text-green-600\" size={20} />}\n                                </div>\n                                {isLoadingTasks ? (\n                                    <LoadingSpinner size=\"small\" />\n                                ) : (\n                                    <>\n                                        <div className=\"text-display-sm font-normal text-on-surface mb-1\">{taskStats.completed}</div>\n                                        <div className=\"text-body-md text-on-variant\">Completed Tasks</div>\n                                    </>\n                                )}\n                            </div>\n\n                            <div className=\"card p-6\">\n                                <div className=\"flex items-center justify-between mb-4\">\n                                    <div className=\"w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center border border-orange-100\">\n                                        <FiClock size={24} className=\"text-orange-600\" />\n                                    </div>\n                                    {recentActivity.length > 0 && <FiTrendingUp className=\"text-green-600\" size={20} />}\n                                </div>\n                                <div className=\"text-display-sm font-normal text-on-surface mb-1\">{recentActivity.length}</div>\n                                <div className=\"text-body-md text-on-variant\">Recent Activity</div>\n                                {isAdmin && taskStats.pendingApprovals > 0 && (\n                                    <div className=\"text-label-sm text-orange-600 mt-2\">\n                                        {taskStats.pendingApprovals} pending approvals\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* Admin Quick Actions */}\n                {isAdmin && currentHub && (\n                    <div>\n                        <h2 className=\"text-headline-md font-normal text-on-surface mb-6\">Admin Actions</h2>\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n                            <button\n                                onClick={() => navigate('/tasks/pending-approvals')}\n                                className=\"group card-interactive p-6 text-left relative\"\n                            >\n                                {taskStats.pendingApprovals > 0 && (\n                                    <div className=\"absolute top-4 right-4 bg-orange-500 text-white text-label-sm font-semibold rounded-full w-7 h-7 flex items-center justify-center shadow-elevation-2\">\n                                        {taskStats.pendingApprovals}\n                                    </div>\n                                )}\n                                <div className=\"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-normal shadow-elevation-2\">\n                                    <FiCheckCircle size={28} className=\"text-white\" />\n                                </div>\n                                <h3 className=\"text-title-md text-on-surface mb-2\">\n                                    Pending Approvals\n                                </h3>\n                                <p className=\"text-body-md text-on-variant\">\n                                    Review task completion proof\n                                </p>\n                                {taskStats.pendingApprovals > 0 && (\n                                    <p className=\"text-label-sm text-orange-600 mt-3\">\n                                        {taskStats.pendingApprovals} {taskStats.pendingApprovals === 1 ? 'task' : 'tasks'} awaiting review\n                                    </p>\n                                )}\n                            </button>\n\n                            <button\n                                onClick={() => navigate('/leaderboard')}\n                                className=\"group card-interactive p-6 text-left\"\n                            >\n                                <div className=\"w-14 h-14 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-normal shadow-elevation-2\">\n                                    <FiAward size={28} className=\"text-white\" />\n                                </div>\n                                <h3 className=\"text-title-md text-on-surface mb-2\">\n                                    Leaderboard\n                                </h3>\n                                <p className=\"text-body-md text-on-variant\">\n                                    View XP rankings\n                                </p>\n                            </button>\n                        </div>\n                    </div>\n                )}\n\n                {/* Getting Started */}\n                {!currentHub && (\n                    <div className=\"bg-gradient-to-br from-primary-container to-purple-50 rounded-3xl p-8 md:p-12 border-2 border-primary/20 shadow-elevation-2\">\n                        <div className=\"max-w-2xl\">\n                            <h2 className=\"text-headline-md font-normal text-on-container mb-4\">\n                                Get Started with Your First Hub\n                            </h2>\n                            <p className=\"text-body-lg text-on-container/80 mb-8\">\n                                You're not part of any hub yet. Create a new hub for your group or join an existing one with an invite code.\n                            </p>\n                            <div className=\"flex flex-col sm:flex-row gap-4\">\n                                <button className=\"btn-base bg-primary text-on-primary hover:bg-primary/90 shadow-elevation-2\">\n                                    Create Hub\n                                </button>\n                                <button className=\"btn-base bg-surface border-2 border-primary text-primary hover:bg-primary-container transition-colors\">\n                                    Join Hub\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Recent Activity */}\n                {currentHub && (\n                    <div>\n                        <h2 className=\"text-headline-md font-normal text-on-surface mb-6\">Recent Activity</h2>\n                        <div className=\"card p-6\">\n                            {isLoadingTasks || isLoadingMessages ? (\n                                <div className=\"flex items-center justify-center py-12\">\n                                    <LoadingSpinner size=\"medium\" />\n                                </div>\n                            ) : recentActivity.length === 0 ? (\n                                <div className=\"text-center py-12\">\n                                    <div className=\"w-16 h-16 bg-surface-variant rounded-full flex items-center justify-center mx-auto mb-4\">\n                                        <FiClock size={32} className=\"text-on-variant\" />\n                                    </div>\n                                    <h3 className=\"text-title-lg text-on-surface mb-2\">No recent activity</h3>\n                                    <p className=\"text-body-md text-on-variant\">Activity from your hub will appear here</p>\n                                </div>\n                            ) : (\n                                <div className=\"space-y-3\">\n                                    {recentActivity.map((activity) => (\n                                        <div\n                                            key={activity.id}\n                                            className=\"flex items-start gap-4 p-4 rounded-xl hover:bg-surface-variant/50 transition-colors duration-fast group\"\n                                        >\n                                            <div className={`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center border-2 transition-colors duration-fast ${\n                                                activity.color === 'text-green-600' ? 'bg-green-50 border-green-100' :\n                                                activity.color === 'text-blue-600' ? 'bg-blue-50 border-blue-100' :\n                                                activity.color === 'text-purple-600' ? 'bg-purple-50 border-purple-100' :\n                                                activity.color === 'text-red-600' ? 'bg-red-50 border-red-100' :\n                                                'bg-surface-variant border-outline-variant'\n                                            }`}>\n                                                <div className={activity.color}>\n                                                    {activity.icon}\n                                                </div>\n                                            </div>\n                                            <div className=\"flex-1 min-w-0\">\n                                                <h4 className=\"text-title-sm text-on-surface mb-1\">{activity.title}</h4>\n                                                <p className=\"text-body-sm text-on-variant mb-2 line-clamp-2\">{activity.description}</p>\n                                                <p className=\"text-label-sm text-on-variant/70\">\n                                                    {formatTimeAgo(activity.timestamp)}\n                                                </p>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </>\n    );\n};\n\n// Helper function to format time ago\nconst formatTimeAgo = (date: Date): string => {\n    const now = new Date();\n    const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n    \n    if (diffInSeconds < 60) return 'Just now';\n    if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`;\n    if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`;\n    if (diffInSeconds < 604800) return `${Math.floor(diffInSeconds / 86400)}d ago`;\n    \n    return date.toLocaleDateString();\n};\n\nexport default DashboardPage;\n"],"names":["DashboardPage","user","useAuth","currentHub","useHubStore","isAdmin","useHasRole","navigate","useNavigate","data","tasks","isLoading","isLoadingTasks","useHubTasks","messages","isLoadingMessages","useHubMessages","id","broadcasts","useHubBroadcasts","taskStats","useMemo","active","filter","t","status","length","completed","pendingApprovals","proofStatus","assignedToMe","assignedTo","total","recentActivity","activities","slice","forEach","task","push","type","title","description","timestamp","completedAt","updatedAt","icon","jsx","FiCheckCircle","size","color","FiUser","createdAt","FiCheckSquare","message","senderName","text","substring","FiMessageCircle","broadcast","FiAlertCircle","priority","sort","a","b","getTime","quickActions","action","bgColor","textColor","FiMapPin","FiUsers","jsxs","Fragment","children","Helmet","name","content","className","displayName","FiAward","xpTotal","map","index","onClick","disabled","DashboardStatsSkeleton","FiTrendingUp","LoadingSpinner","members","FiClock","activity","formatTimeAgo","date","now","Date","diffInSeconds","Math","floor","toLocaleDateString"],"mappings":"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"}