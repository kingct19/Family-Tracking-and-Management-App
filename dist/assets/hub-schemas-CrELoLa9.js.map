{"version":3,"file":"hub-schemas-CrELoLa9.js","sources":["../../src/lib/validation/hub-schemas.ts"],"sourcesContent":["import { z } from 'zod';\n\n// Hub creation schema\nexport const createHubSchema = z.object({\n  name: z\n    .string()\n    .min(3, 'Hub name must be at least 3 characters')\n    .max(50, 'Hub name is too long')\n    .regex(/^[a-zA-Z0-9\\s'-]+$/, 'Hub name contains invalid characters'),\n  description: z.string().max(200, 'Description is too long').optional(),\n  featureToggles: z\n    .object({\n      location: z.boolean().default(true),\n      tasks: z.boolean().default(true),\n      chat: z.boolean().default(true),\n      vault: z.boolean().default(false),\n      xp: z.boolean().default(true),\n      leaderboard: z.boolean().default(true),\n      geofencing: z.boolean().default(false),\n      deviceMonitoring: z.boolean().default(true),\n    })\n    .default({\n      location: true,\n      tasks: true,\n      chat: true,\n      vault: false,\n      xp: true,\n      leaderboard: true,\n      geofencing: false,\n      deviceMonitoring: true,\n    }),\n});\n\nexport type CreateHubFormData = z.infer<typeof createHubSchema>;\n\n// Hub update schema\nexport const updateHubSchema = z.object({\n  name: z\n    .string()\n    .min(3, 'Hub name must be at least 3 characters')\n    .max(50, 'Hub name is too long')\n    .optional(),\n  description: z.string().max(200, 'Description is too long').optional(),\n});\n\nexport type UpdateHubFormData = z.infer<typeof updateHubSchema>;\n\n// Feature toggles update schema\nexport const featureTogglesSchema = z\n  .object({\n    location: z.boolean(),\n    tasks: z.boolean(),\n    chat: z.boolean(),\n    vault: z.boolean(),\n    xp: z.boolean(),\n    leaderboard: z.boolean(),\n    geofencing: z.boolean(),\n    deviceMonitoring: z.boolean(),\n  })\n  .refine(\n    (data) => {\n      // Can't enable leaderboard without XP\n      if (data.leaderboard && !data.xp) return false;\n      return true;\n    },\n    {\n      message: 'Leaderboard requires XP to be enabled',\n      path: ['leaderboard'],\n    }\n  )\n  .refine(\n    (data) => {\n      // Can't enable geofencing without location\n      if (data.geofencing && !data.location) return false;\n      return true;\n    },\n    {\n      message: 'Geofencing requires location tracking to be enabled',\n      path: ['geofencing'],\n    }\n  );\n\nexport type FeatureTogglesFormData = z.infer<typeof featureTogglesSchema>;\n\n// Invite creation schema\nexport const createInviteSchema = z.object({\n  role: z.enum(['admin', 'member', 'observer']).default('member'),\n  expiresInDays: z.number().int().min(1).max(30).default(7),\n  maxUses: z.number().int().min(1).max(100).optional(),\n});\n\nexport type CreateInviteFormData = z.infer<typeof createInviteSchema>;\n\n// Geofence schema\nexport const geofenceSchema = z.object({\n  name: z\n    .string()\n    .min(3, 'Name must be at least 3 characters')\n    .max(50, 'Name is too long'),\n  latitude: z.number().min(-90).max(90),\n  longitude: z.number().min(-180).max(180),\n  radius: z.number().int().min(50, 'Radius must be at least 50 meters').max(5000, 'Radius cannot exceed 5000 meters'),\n  notifyOnEnter: z.boolean().default(true),\n  notifyOnExit: z.boolean().default(true),\n});\n\nexport type GeofenceFormData = z.infer<typeof geofenceSchema>;\n\n\n\n"],"names":["createHubSchema","z.object","name","z.string","min","max","regex","description","optional","featureToggles","location","z.boolean","default","tasks","chat","vault","xp","leaderboard","geofencing","deviceMonitoring","featureTogglesSchema","refine","data","message","path","role","z.enum","expiresInDays","z.number","int","maxUses","latitude","longitude","radius","notifyOnEnter","notifyOnExit"],"mappings":"uEAGO,MAAMA,EAAkBC,EAAS,CACtCC,KAAMC,IAEHC,IAAI,EAAG,0CACPC,IAAI,GAAI,wBACRC,MAAM,qBAAsB,wCAC/BC,YAAaJ,IAAWE,IAAI,IAAK,2BAA2BG,WAC5DC,eAAgBR,EACN,CACNS,SAAUC,IAAYC,SAAQ,GAC9BC,MAAOF,IAAYC,SAAQ,GAC3BE,KAAMH,IAAYC,SAAQ,GAC1BG,MAAOJ,IAAYC,SAAQ,GAC3BI,GAAIL,IAAYC,SAAQ,GACxBK,YAAaN,IAAYC,SAAQ,GACjCM,WAAYP,IAAYC,SAAQ,GAChCO,iBAAkBR,IAAYC,SAAQ,KAEvCA,QAAQ,CACPF,UAAU,EACVG,OAAO,EACPC,MAAM,EACNC,OAAO,EACPC,IAAI,EACJC,aAAa,EACbC,YAAY,EACZC,kBAAkB,MAOOlB,EAAS,CACtCC,KAAMC,IAEHC,IAAI,EAAG,0CACPC,IAAI,GAAI,wBACRG,WACHD,YAAaJ,IAAWE,IAAI,IAAK,2BAA2BG,aAMvD,MAAMY,EAAuBnB,EAC1B,CACNS,SAAUC,IACVE,MAAOF,IACPG,KAAMH,IACNI,MAAOJ,IACPK,GAAIL,IACJM,YAAaN,IACbO,WAAYP,IACZQ,iBAAkBR,MAEnBU,OACEC,KAEKA,EAAKL,cAAgBK,EAAKN,IAGhC,CACEO,QAAS,wCACTC,KAAM,CAAC,iBAGVH,OACEC,KAEKA,EAAKJ,aAAeI,EAAKZ,UAG/B,CACEa,QAAS,sDACTC,KAAM,CAAC,gBAOqBvB,EAAS,CACzCwB,KAAMC,EAAO,CAAC,QAAS,SAAU,aAAad,QAAQ,UACtDe,cAAeC,IAAWC,MAAMzB,IAAI,GAAGC,IAAI,IAAIO,QAAQ,GACvDkB,QAASF,IAAWC,MAAMzB,IAAI,GAAGC,IAAI,KAAKG,aAMdP,EAAS,CACrCC,KAAMC,IAEHC,IAAI,EAAG,sCACPC,IAAI,GAAI,oBACX0B,SAAUH,IAAWxB,KAAI,IAAKC,IAAI,IAClC2B,UAAWJ,IAAWxB,KAAI,KAAMC,IAAI,KACpC4B,OAAQL,IAAWC,MAAMzB,IAAI,GAAI,qCAAqCC,IAAI,IAAM,oCAChF6B,cAAevB,IAAYC,SAAQ,GACnCuB,aAAcxB,IAAYC,SAAQ"}